<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">

		<title>Ateliers de co_réparation de France</title>
		<meta name="description" content="Ateliers de co-réparation de France : carte et calendrier basés sur OpenStreetMap." />
		<meta name="keywords" content="nantes, vrac, emballages, zéro déchets, magasin vrac, magasin zéro déchet" />
		<meta property="og:title" content="CoReparation.fr" />
		<meta property="og:site_name" content="Ateliers de co-réparation de France : carte et calendrier basés sur OpenStreetMap" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="http://www.coreparation.fr" />
		<meta property="og:image" content="logo-carte.png" />
		<meta property="og:description" content="Ateliers de co-réparation de France : carte et calendrier basés sur OpenStreetMap"  />
		<meta property="og:locale" content="fr_FR" />

		<link rel="icon" type="image/png" href="logo.png" />

		<link rel="stylesheet" href="css/styles.css">
		<link rel="stylesheet" href="css/calendar.css">
		<link rel="stylesheet" href="lib/leaflet-1.3.1/leaflet.css"/>
		<link rel="stylesheet" href="lib/mastercluster/MarkerCluster.css" />
		<link rel="stylesheet" href="lib/mastercluster/MarkerCluster.Default.css" />

		<script src="lib/leaflet-1.3.1/leaflet.js"></script>
		<script src="lib/mastercluster/leaflet.markercluster.js"></script>
		<script src="lib/subgroup/subgroup.js"></script>
		<script src="lib/shopmarker/marker_icons.js"></script>
		<script src="lib/shopmarker/shopmarker.js"></script>
		<!--[if IE]> <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

		<!-- Le bouton recherche -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
		<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

		<!-- Le bouton "je suis ici" -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
		<script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.js" charset="utf-8"></script>

		<!-- Matomo -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
			var u="//coreparation.fr/analytics/piwik/";
			_paq.push(['setTrackerUrl', u+'piwik.php']);
			_paq.push(['setSiteId', '1']);
			var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
			g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<!-- End Matomo Code -->

		<script src="lib/jquery-3.3.1.min.js" type="text/javascript"></script>
		<script type="text/javascript">
	  function show_hide_div(nomdiv){
	    var lediv = document.getElementById(nomdiv);
	  if(lediv.style.display=="block")
	    lediv.style.display="none";
	  else
	    lediv.style.display="block";
	  }
	</script>
	</head>
	<body>
		<header>
			<nav role="navigation">
				<div id="menuToggle" class="box-shadow">
				    <div id="burger" onclick="menuToggle()">
					    <span></span>
					    <span></span>
					    <span></span>
					</div>

					<img src="logo-header.png" class="logoCoreparation"><a href="#jumptomap"><h1 style='font-size:12px'>Ateliers de co-réparation </br>de France.</h1></a>

					<ul id="menu" class="menu">
						<a href="#jumptomap" onclick="closeMenu()"><li>Carte</li></a>
						<a href="#calendrier" onclick="closeMenu()"><li>Calendrier</li></a>
						<a href="#projet" onclick="closeMenu()"><li>Projet</li></a>
						<a href="#vert" onclick="closeMenu()"><li>Site vert et libre</li></a>
						<a href="#contribuer" onclick="closeMenu()"><li>Contribuer</li></a>
						<a href="#api" onclick="closeMenu()">
							<li>API</li>
						</a>
						<a href="#contact" onclick="closeMenu()"><li>Contact</li></a>
					</ul>
				</div>
			</nav>
		</header>

		<div id="header_embedded">
	      Ce contenu provient du site "http://www.coreparation.fr" réalisé par l'association "Mieux trier à Nantes".<br/>
		</div>

		<a class="anchor" id="jumptomap"></a>
		<div class="test2">
			<div id="map" style="width: 100%;  height: 90%; z-index: 1;">
  			 <a href="#calendrier" class="arrowScroll"><img src="img_src/arrow-icon.png" class="arrowScroll_Icon"></a>
			</div>
		</div>

		<div id="content">

		<a class="anchor" id="calendrier"></a>
		<h2>Le calendrier</h2>
		<!-- div>
			Filtres actifs :
			<span style='border-radius:4px; padding: 5px 10px; background-color:#4CAF50; color:white; text-align: center;text-decoration: none; display:inline-block; font-size:16px'>Tous types réparation</span>
			<span style='border-radius:4px; padding: 5px 10px; background-color:#4CAF50; color:white; text-align: center;text-decoration: none; display:inline-block; font-size:16px'>4 mois</span>
			<span id='filterCalendar44' style='border-radius:4px; padding: 5px 10px; background-color:#4CAF50; color:white; text-align: center;text-decoration: none; display:inline-block; font-size:16px'>Loire-Atlantique</span>
			<span id='filterCalendar49' style='border-radius:4px; padding: 5px 10px; background-color:#4CAF50; color:white; text-align: center;text-decoration: none; display:inline-block; font-size:16px'>Maine-Et-Loire</span>
			<span id='filterCalendar49' style='border-radius:4px; padding: 5px 10px; background-color:#4CAF50; color:white; text-align: center;text-decoration: none; display:inline-block; font-size:16px'>Sarthe</span>
			<span id='filterCalendar49' style='border-radius:4px; padding: 5px 10px; background-color:#4CAF50; color:white; text-align: center;text-decoration: none; display:inline-block; font-size:16px'>Mayenne</span>
			<span id='filterCalendar49' style='border-radius:4px; padding: 5px 10px; background-color:#4CAF50; color:white; text-align: center;text-decoration: none; display:inline-block; font-size:16px'>Vendée</span>
		</div -->
		<br/>
		<div id="textDiv" style="display:none"></div>

		<div id="textDiv2"></div>
		<script type="text/javascript" src="calendar.js">
		</script>
		<script type="text/javascript" src="calendar_2.js">
		</script>
		<!--<p>
		<iframe style="width:100%;height:500px" frameborder="0" scrolling="yes" allowtransparency="allowtransparency" class="cibulFrame cbpgbdy" data-oabdy src="calendrier.html"></iframe>
	</p>-->

		<a class="anchor" id="projet"></a>
		<h2>Le projet</h2>
		<p>
			Il existe de nombreux ateliers de réparation collaboratifs. Il arrive parfois que des particuliers se rendent à un atelier de réparation distant, car il ne connaissait pas l'existence d'un lieu plus proche.<br/><br/>Les associations "Repair Café du Vignoble nantais" et "Mieux trier à Nantes" ont réalisés en 2017 pour Ecopole une liste des ateliers de réparation collaboratifs de Loire-Atlantique. Cette liste est open-data (réutilisable gratuitement et librement). Elle a été étendue ensuite pour la France entière.<br/><br/>
			<b>Cette carte est la vôtre : vous pouvez la modifier par vous-même car les données sont stoquées sur OpenStreetMap</b> (le guide est <a href='https://mieuxtrieranantes.wordpress.com/2019/12/15/ajouter-modifier-ou-supprimer-un-atelier-sur-la-carte-coreparation-fr/' target=_new>ici</a>).<br/><br/>
			Merci.<br/>
		  L'équipe de Mieux trier à Nantes</p>
		</p>
		<a class="anchor" id="vert"></a>
		<h2>Un site vert et libre</h2>
		<p>
			Ce site a plusieurs particularités :<br/>
			- la carte n'est pas stockée chez Google mais chez OpenStreetMap qui est une carte libre et qui n'appartient pas à un géant d'internet.<br/>
			- le calendrier n'est pas stocké chez Facebook mais dans l'agenda libre Open-Agenda.<br/>
			- afin de diminuer la consommation électrique des requêtes, on ne récupère pas en temps réel les données de l'agenda et de la carte, mais uniquement 1 fois par heure et à la demande.<br/>
			- les statistiques ne sont pas réalisées par "Google Analytics" mais la solution libre Matomo et hébergées sur ce site.<br/>
			- le code source de ce site est libre, et <a href='https://github.com/vivreanantes/vracanantes/tree/feature/AteliersReparationCollaboratifLoireAtlantique' target=_ne>disponible sur github</a>.
		</p>

		<a class="anchor" id="contribuer"></a>
		<h2>Contribuer</h2>
		<p>Pour ajouter, modifier ou supprimer des points sur la carte, <b>au choix</b> : <br>
			- <i>je ne suis pas très fort en informatique</i> : remplir le <a href='https://framaforms.org/ateliers-de-reparation-collaboratifs-1539567458' target=_new>formulaire</a><br/>
			- <i>je suis moyen en informatique</i> : utiliser des formulaires pour saisir directement, via MapContrib. Le manuel est <a href='https://mieuxtrieranantes.wordpress.com/2019/12/16/avec-mapcontrib-ajouter-modifier-ou-supprimer-un-atelier-sur-la-carte-coreparation-fr/' target=_new>ici</a> .<br/>
			- <i>je suis bon en informatique</i> : inscrire directement dans OpenStreetMap :
			 	le manuel est <a href='https://mieuxtrieranantes.wordpress.com/2019/12/15/ajouter-modifier-ou-supprimer-un-atelier-sur-la-carte-coreparation-fr/' target=_new>ici</a>
		 </p>.
		</p>
		<h3>Ils ont contibué en donnant leurs données :</h3>
		<p>- Carte des <a href='https://www.repair-cafe-iroise.fr/home/les-repair-cafe-du-finistere/' target=_new>Repair Café du Finistère</a><br/>
			- Association des Repairs Café de Strasbourg
		</p>

						<a class="anchor" id="api"></a>
						<h2>API</h2>
							<p>
						- La requête overpass pour récupérer les données <a href='http://overpass-api.de/api/interpreter?data=[out:json];(area[%22ISO3166-1%22=%22FR%22];)-%3E.searchArea;(node[%22repair%22=%22assisted_self_service%22](area.searchArea););out;' target=_new>http://overpass-api.de/api/interpreter?data=[out:json];(area["ISO3166-1"="FR"];)->.searchArea;(node["repair"="assisted_self_service"](area.searchArea););out;</a>.<br />
						- Les données actuellement utilisées : <a href="http://www.coreparation.fr/cache_data.json" target=_new>cache_data.json</a><br/><br/>
						Les tags OpenStreetMap utilisés : 'name', 'charity', 'contact:housenumber', 'housenumber', 'contact:street', 'street', 'contact:postcode', 'postcode', 'contact:city', 'city', 'opening_hours',  'contact:email', 'email', 'contact:facebook', 'facebook', 'contact:phone', 'phone', 'contact:website', 'website', 'description', 'image', 'mapillary', 'brand', 'operator', <b>'service:fabrik:repair', 'service:bicycle:repair', 'service:camera:repair', 'service:computer:repair', 'service:fabrik:repair', 'service:furniture:repair', 'service:small_electronics_device:repair'.</b>.
							</p>
						<p>Par retour d'utilisateurs nous acceptons aussi depuis juin 2021 : 'fabrik:repair', 'bicycle:repair', 'camera:repair', 'computer:repair', 'fabrik:repair', 'furniture:repair', 'small_electronics_device:repair', 'addr:housenumber', 'addr:street', 'addr:postcode', 'addr:city', 'contact:housename', 'addr:housename', 'housename', 'contact:housename', 'addr:housename' </p>
						<p>A venir : 'craft=electronics_repair',  'mobile_phone:repair', 'computer:repair', 'hifi:repair'</p>
		<a class="anchor" id="contact"></a>
	  	<h2>Contact</h2>
	  	<p>Si vous souhaitez participer au projet, nous faire part de données erronées ou nous donner votre avis, vous pouvez nous contacter par email en écrivant à l'adresse : <img src="email.png" style="height: 18px; vertical-align: middle; padding-bottom: 3px;"/></p>
	  	</div>

	</body>

	<script type="text/javascript">
		function menuToggle() {
		    document.getElementById("menu").classList.toggle("show");
		}

		function closeMenu() {
		    document.getElementById("menu").classList.remove("show");
		}

		window.onclick = function(event) {
		  if (!event.target.matches('.dropbtn')) {
		    var dropdowns = document.getElementsByClassName("dropdown-content");
		    var i;
		    for (i = 0; i < dropdowns.length; i++) {
		      var openDropdown = dropdowns[i];
		      if (openDropdown.classList.contains('show')) {
		        openDropdown.classList.remove('show');
		      }
		    }
		  }
		}

		$(document).on('click', 'a[href^="#"]', function (event) {
			event.preventDefault();
	   		$('html, body').animate({
	       		scrollTop: $($.attr(this, 'href')).offset().top
	   		}, 500);
		});
	</script>
        <!-- Embedded mod -->
        <script type="text/javascript">
          var getQueryParam = function(param) {
            var found;
            window.location.search.substr(1).split("&").forEach(function(item) {
              if (param == item.split("=")[0]) {
                found = item.split("=")[1];
              }
            });
            return found;
          };
		  if (getQueryParam("mode")=="embedded") {
		    document.getElementById('map').style.top = "10px";
			  document.getElementById('menuToggle').style.display = 'none';
			  document.getElementById('content').style.display = 'none';
			  document.getElementById('header_embedded').style.display = 'flex'; //Will show
		  } else {
  			document.getElementById('menuToggle').style.display = 'flex'; //Will show
			  document.getElementById('content').style.display = 'flex'; //Will show
			  document.getElementById('header_embedded').style.display = 'none';
		  }
      </script>
      <!-- flèche scroll down map -->
      <script type="text/javascript">
      	$(function() {
		  $('a[href*=\\#]').on('click', function(e) {
		    e.preventDefault();
		    $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top}, 500, 'linear');
		  });
		});
      </script>

        <!-- End Piwik Code -->
	<script src="vracanantes_2.js" type="text/javascript"></script>
</html>
